<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Your Cart - My Store</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Your Shopping Cart</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="checkout.html">Checkout</a>
    </nav>
  </header>

  <main class="container">
    <div id="cart">
      <h2>Cart Items</h2>
      <div id="cart-items"></div>
      <p><strong>Total: <span id="cart-total">â‚¹0.00</span></strong></p>
    </div>
  </main>

  <script>
    const formatRupee = price => new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR' }).format(price);
    let cart = JSON.parse(localStorage.getItem('cart') || '[]');

    function saveCart() {
      localStorage.setItem('cart', JSON.stringify(cart));
    }

    function updateQty(id, qty) {
      const item = cart.find(i => i.id === id);
      if (item) {
        item.qty = Math.max(1, parseInt(qty));
        saveCart();
        renderCart();
      }
    }

    function removeItem(id) {
      cart = cart.filter(i => i.id !== id);
      saveCart();
      renderCart();
    }

    function renderCart() {
      const cartItems = document.getElementById('cart-items');
      const totalEl = document.getElementById('cart-total');
      cartItems.innerHTML = '';
      let total = 0;
      cart.forEach(item => {
        const div = document.createElement('div');
        div.className = 'product';
        div.innerHTML = `
          <h3>${item.name}</h3>
          <p>Price: ${formatRupee(item.price)}</p>
          <label>Qty: <input type="number" min="1" value="${item.qty}" onchange="updateQty(${item.id}, this.value)"></label>
          <p>Subtotal: ${formatRupee(item.qty * item.price)}</p>
          <button onclick="removeItem(${item.id})">Remove</button>
        `;
        cartItems.appendChild(div);
        total += item.qty * item.price;
      });
      totalEl.textContent = formatRupee(total);
    }

    document.addEventListener('DOMContentLoaded', renderCart);
  </script>
</body>
</html>
